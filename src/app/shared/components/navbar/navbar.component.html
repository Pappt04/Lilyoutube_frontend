<nav class="navbar">
  <div class="nav-brand" (click)="onNavbarClick()">
    <div class="logo-wrapper">
      <img ngSrc="/images/lilyoutube_logo.jpg" alt="Logo" width="36" height="36" priority>
    </div>
    <span class="logo-text">LilYoutube</span>
  </div>

  <div class="search-container" *ngIf="isBrowser">
    <div class="search-bar">
      <input type="text" class="search-input" placeholder="Search">
      <button class="search-btn">
        <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
          <path
            d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" />
        </svg>
      </button>
    </div>
  </div>

  <div class="nav-actions" *ngIf="isBrowser">
    <ng-container *ngIf="!isLoggedIn; else loggedInBlock">
      <button class="nav-btn" (click)="goToLogin()">Login</button>
      <button class="nav-btn primary" (click)="goToRegister()">Register</button>
    </ng-container>

    <ng-template #loggedInBlock>
      <button class="profile-btn" (click)="onProfileClick()" title="Profile">
        <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24" fill="currentColor">
          <path
            d="M480-480q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47ZM160-160v-112q0-34 17.5-62.5T224-378q62-31 126-46.5T480-440q66 0 130 15.5T736-378q29 15 46.5 43.5T800-272v112H160Zm80-80h480v-32q0-11-5.5-20T700-306q-54-27-109-40.5T480-360q-56 0-111 13.5T260-306q-9 5-14.5 14t-5.5 20v32Z" />
        </svg>
        <span>{{ user()?.username || 'Profile' }}</span>
      </button>

      <button class="logout-btn" (click)="onLogoutClick()" title="Log out">
        <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
          <path
            d="M10.09 15.59L11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z" />
        </svg>
      </button>
    </ng-template>
  </div>
</nav>